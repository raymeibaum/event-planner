angular
  .module('eventPlanner')
  .component('eventShow', {
    templateUrl: '<%= asset_path("components/event/show/eventShow") %>',
    controller: EventShowController
  });

  EventShowController.$inject = ['$state','$stateParams', 'EventService', 'FavoritesService'];

function EventShowController($state, $stateParams, EventService, FavoritesService) {
  var vm = this;

  vm.event = {};

	vm.favoriteEvent = favoriteEvent;

	activate()

	function activate() {
		getEvent()
	}
	function favoriteEvent() {
		FavoritesService
			.favoriteEvent($stateParams.id)
			.then(function(response) {
				$state.go('home');
			})
	}
	function getEvent() {
    EventService
			.getEvent($stateParams.id)
			.then(function assignEvent(response) {
				console.log(response.data);
				vm.event = response.data;
			})
	}
}
